/* roll20-base.css
   A lightweight “Roll20-ish” host environment for local sheet preview.
   Keep this file small and obvious; add to it as you discover mismatches. */

/* ---------- General resets ---------- */
:root {
  --r20-bg: #f3f3f3;
  --r20-panel: #ffffff;
  --r20-border: rgba(0, 0, 0, 0.18);
  --r20-text: #222;
  --r20-muted: rgba(0, 0, 0, 0.65);
  --r20-focus: rgba(51, 122, 183, 0.55);
  --r20-radius: 8px;
}

* {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
  margin: 0;
  color: var(--r20-text);
  background: var(--r20-bg);
}

h3 {
  box-sizing: border-box;
  color: rgb(51, 51, 51);
  display: block;
  font-family: Tinos;
  font-size: 18px;
  font-weight: 700;
  height: 27.0028px;
  line-height: 27px;
  margin-block-end: 0px;
  margin-block-start: 0px;
  margin-bottom: 0px;
  margin-inline-end: 0px;
  margin-inline-start: 0px;
  margin-left: 0px;
  margin-right: 0px;
  margin-top: 0px;
  overflow-x: hidden;
  overflow-y: hidden;
  scrollbar-color: rgb(144, 164, 174) rgb(207, 216, 220);
  text-overflow: ellipsis;
  text-rendering: optimizelegibility;
  text-size-adjust: 100%;
  text-transform: capitalize;
  text-wrap-mode: nowrap;
  unicode-bidi: isolate;
  white-space-collapse: collapse;
  width: 117.443px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

/* ---------- Simulated Roll20 “dialog” container ---------- */
.ui-dialog {
  /* Roll20 sheets usually live inside a jQuery UI dialog container */
  margin: 12px;
  padding: 12px;
  border: 1px solid var(--r20-border);
  border-radius: var(--r20-radius);
  background: var(--r20-panel);
  box-shadow: 0 10px 18px rgba(0, 0, 0, 0.08);
}

/* In Roll20, the sheet is often inside .tab-content */
.tab-content {
  box-sizing: border-box;
  color: rgb(51, 51, 51);
  display: block;
  font-family: sans-serif;
  font-size: 13px;
  height: 566.42px;
  line-height: 18.5714px;
  scrollbar-color: rgb(144, 164, 174) rgb(207, 216, 220);
  text-size-adjust: 100%;
  unicode-bidi: isolate;
  width: 860px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

/* ---------- The sheet root ---------- */
.charsheet {
  /* Roll20’s sheet area tends to have “normal document” defaults */
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 13px;
  line-height: 1.4;
  color: var(--r20-text);

  /* Give it some breathing room */
  padding: 8px;
  min-width: 500px;
}

/* Make labels behave like Roll20’s: often tightly packed */
.charsheet label {
  display: inline-block;
  margin: 0;
  padding: 0;
  font-weight: 600;
}

/* ---------- Form controls (Roll20-like defaults) ---------- */
.charsheet input,
.charsheet select,
.charsheet textarea,
.charsheet button {
  font: inherit;
}

.charsheet input[type="text"],
.charsheet input[type="number"],
.charsheet select,
.charsheet textarea {
  width: 100%;
  margin: 0;
  padding: 4px 6px;
  border: 1px solid rgba(0, 0, 0, 0.25);
  border-radius: 4px;
  background: #fff;
  color: var(--r20-text);
  outline: none;
}

.charsheet textarea {
  min-height: 80px;
  resize: vertical;
}

.charsheet input:focus,
.charsheet select:focus,
.charsheet textarea:focus {
  box-shadow: 0 0 0 3px var(--r20-focus);
  border-color: rgba(51, 122, 183, 0.75);
}

.charsheet input[type="checkbox"],
.charsheet input[type="radio"] {
  width: auto;
  margin: 0 4px 0 0;
  vertical-align: middle;
}

/* ---------- Roll/action buttons ---------- */
/* Roll20 uses special button types; your own CSS will likely override these. */
.charsheet button {
  cursor: pointer;
}

.charsheet button[type="roll"],
.charsheet button[type="action"],
.charsheet a[href^="~"] {
  display: inline-block;
  padding: 4px 8px;
  border: 1px solid rgba(0, 0, 0, 0.25);
  border-radius: 4px;
  background: linear-gradient(#ffffff, #e9e9e9);
  color: var(--r20-text);
  text-decoration: none;
}

.charsheet button[type="roll"]:hover,
.charsheet button[type="action"]:hover,
.charsheet a[href^="~"]:hover {
  background: linear-gradient(#ffffff, #dedede);
}

.charsheet button[type="roll"]:active,
.charsheet button[type="action"]:active,
.charsheet a[href^="~"]:active {
  transform: translateY(1px);
}

/* In Roll20, roll buttons often have a d20 icon via :before.
   Many custom sheets hide it (your CSS does). Keep it disabled here. */
.charsheet button[type="roll"]::before,
.charsheet button[type="action"]::before {
  content: none;
}

/* ---------- Repeating section controls (very rough) ---------- */
.repcontrol {
  display: flex;
  gap: 6px;
  margin: 6px 0;
  align-items: center;
}

.repcontrol button {
  width: auto;
}

.repitem {
  position: relative;
  margin: 4px 0;
  padding: 6px;
  border: 1px dashed rgba(0, 0, 0, 0.18);
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.6);
}

/* ---------- “Inlinerollresult” styling (common in roll templates) ---------- */
.inlinerollresult {
  display: inline-block;
  padding: 0 4px;
  border-radius: 4px;
  border: 1px solid rgba(0, 0, 0, 0.18);
  background: #fff;
  font-weight: 700;
}

.inlinerollresult.fullcrit {
  border-color: rgba(0, 150, 0, 0.45);
}
.inlinerollresult.fullfail {
  border-color: rgba(170, 0, 0, 0.45);
}
.inlinerollresult.importantroll {
  border-color: rgba(0, 0, 0, 0.35);
}

/* ---------- Optional: a “dropzone” wrapper some sheets expect ---------- */
.dropzone {
  padding: 0;
  border: none;
  background: transparent;
}

/* ---------- Utility: make images behave ---------- */
.charsheet img {
  max-width: 100%;
  height: auto;
}

.charactersheet {
  background-color: oklch(0.97 0 0);
  box-sizing: border-box;
  color: rgb(51, 51, 51);
  display: block;
  font-family: Tinos;
  font-size: 14px;
  font-weight: 400;
  height: 566.42px;
  line-height: 20px;
  min-width: 512px;
  padding-bottom: 10px;
  padding-left: 10px;
  padding-right: 10px;
  padding-top: 10px;
  scrollbar-color: rgb(144, 164, 174) rgb(207, 216, 220);
  text-size-adjust: 100%;
  unicode-bidi: isolate;
  width: 860px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ui-dialog .hint {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 360px; /* leaves room for chat panel */
  z-index: 9998;
  font-size: 12px;
  opacity: 0.85;
  padding: 8px 12px;
  border-top: 1px solid rgba(0, 0, 0, 0.15);
  background: #fafafa;
}

.layout {
  padding-bottom: 40px;
}

/* Roll20 never shows rolltemplate nodes in the sheet */
rolltemplate {
  display: none !important;
}
